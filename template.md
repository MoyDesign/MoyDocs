
## Templates

Templates show the information extracted by parsers. They're not tightly bound to parsers, but rather represent the collection of new looks to choose from. Different parsers may be used with the same template, and vice versa.

The central part of a template is an HTML document with [Handlebars](http://handlebarsjs.com/) tags. You don't need and should not include any Handlebars scripts or compile templates manually. This is all done automatically.

Names you can use in templates are:

* BASE_URL - the original URL of the page;
* TITLE - the content of the `<title>` tag in the original page;
* ICON_TAGS - the whole `<link rel="icon" ...>` or `<link rel="shortcut icon" ...>` tag(s);
* OPEN_GRAPH_TAGS - all [Open Graph](http://ogp.me/) metadata tags found in the original document (e.g. `<meta property="og:title" content="Title">`, etc);
* any name parser provided.

Parsers provide *HTML strings.* This means if you don't want them to be escaped you need to use triple curly bracers, i.e. `{{{name}}}` instead of `{{name}}`.

Parsers always return lists, but very often they contain just one element. In this case, you can just call them as if they were simple values: `{{{name}}}`. If they contain multiple values, you can use the `each` helper:

    {{#each name}}
        <p>{{{this}}}</p>
    {{/each}}

This also works for the rules with sub-rules:

    {{#each article}}
        <h2>{{{title}}}</h2>
        <p>{{{body}}}</p>
    {{/each}}

See the Handlebars [docs](http://handlebarsjs.com/builtin_helpers.html) for details.

For the rules with sub-rules, the `WHOLE` sub-rule is defined for convenience. This autogenerated sub-rule will contain the whole value of the parent rule as an HTML string. However, we discourage its use.

We encourage template creators to always use automatically provided names. This will allow Moy to generate a more polished Web pages. Typical template skeleton may look like this:

    <!DOCTYPE html>
    <html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <base href="{{ BASE_URL }}">
      <title>{{ TITLE }}</title>
      {{{ ICON_TAGS }}}
      {{{ OPEN_GRAPH_TAGS }}}
      <!-- ... other head tags here, if needed ... -->
      <style>
        <!-- ... template styles here ... -->
      </style>
    </head>
    <body>
      <!-- document structure -->
    </body>
    </html>

You can find template examples in the [Templates](/template) page. Remember, that you can read any template's code, just click on its name.
